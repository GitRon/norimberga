{% load static %}
<nav class="bg-white border-gray-200">
    <div class="max-w-screen-xl flex items-center justify-between p-4">
        <div class="flex items-center gap-6">
            <a href="{% url "city:landing-page" %}" class="flex items-center space-x-3 rtl:space-x-reverse">
                <img src="{% static "img/logo.svg" %}" class="h-8" alt="Norimberga Logo"/>
                <span class="self-center text-2xl font-semibold whitespace-nowrap">Norimberga</span>
            </a>

            {% if user.is_authenticated and savegame %}
                <div class="hidden w-full md:block md:w-auto">
                    <ul class="font-medium flex flex-row space-x-8">
                        <li>
                            <a href="{% url "city:landing-page" %}"
                               class="text-sm font-medium text-gray-700 hover:text-gray-900">Map</a>
                        </li>
                        <li>
                            <a href="{% url "city:balance" %}"
                               class="text-sm font-medium text-gray-700 hover:text-gray-900">Balance</a>
                        </li>
                        <li>
                            <a href="{% url "milestone:milestone-list-view" %}"
                               class="text-sm font-medium text-gray-700 hover:text-gray-900">Milestones</a>
                        </li>
                    </ul>
                </div>
            {% endif %}
        </div>

        {% if user.is_authenticated %}
            <div class="flex items-center gap-4">
                {% if savegame %}
                    {% include "partials/_navbar_values.html" %}
                {% endif %}

                <div class="relative group">
                    <button type="button"
                            class="flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 focus:outline-none pb-2">
                        <span>{{ user.first_name|default:user.username }}</span>
                        <svg class="ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>

                    <div class="hidden group-hover:block absolute right-0 top-full w-48 bg-white rounded-md shadow-lg py-1 z-50">
                        <a href="{% url 'city:savegame-list' %}"
                           class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            Savegames
                        </a>
                        <button hx-post="{% url 'city:logout' %}"
                                hx-swap="none"
                                hx-on::after-request="window.location.href='{% url 'city:login' %}'"
                                class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            Logout
                        </button>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</nav>
