{% extends "base.html" %}

{% block content %}
    <div class="max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-4xl font-bold mb-8 text-gray-900">Threads</h1>

        <!-- Tabs using DaisyUI with prominent styling -->
        <div class="card bg-base-100 shadow-xl">
            <div role="tablist" class="tabs tabs-lifted tabs-lg">
                <a role="tab"
                   class="tab tab-active font-semibold text-lg"
                   hx-get="{% url 'thread:defense-tab' %}"
                   hx-target="#tab-content"
                   hx-swap="innerHTML">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                    </svg>
                    Defense
                </a>
                <a role="tab"
                   class="tab font-semibold text-lg"
                   hx-get="{% url 'thread:prestige-tab' %}"
                   hx-target="#tab-content"
                   hx-swap="innerHTML">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                    </svg>
                    Prestige
                </a>
                <a role="tab"
                   class="tab font-semibold text-lg"
                   hx-get="{% url 'thread:threads-tab' %}"
                   hx-target="#tab-content"
                   hx-swap="innerHTML">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                    Active Threads
                    {% if active_threads %}
                        <span class="badge badge-error badge-sm ml-2">{{ active_threads|length }}</span>
                    {% endif %}
                </a>
            </div>

            <!-- Tab content area -->
            <div id="tab-content" class="p-6">
                {% include "thread/partials/_defense_tab.html" %}
            </div>
        </div>
    </div>

    <script>
        // Add active tab switching behavior
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tabs .tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('tab-active'));
                    this.classList.add('tab-active');
                });
            });
        });
    </script>
{% endblock content %}
